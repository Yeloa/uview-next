<template>
	<view class="u-page">
		<view class="u-demo-block" style="margin-top: 10px;">
			<text class="u-demo-block__title">åŸºç¡€ä½¿ç”¨ - ç¦ç”¨</text>
			<view class="u-demo-block__content">
				<u-draggable :list="dragList" >
					<template #item="{item, active}">
						<view class="grid-item">
							<text class="grid-text" :class="{'text-active': active}">{{item.text}}</text>
						</view>
					</template>
				</u-draggable>
			</view>
		</view>

		<view class="u-demo-block">
			<text class="u-demo-block__title">å¤šåˆ—æ‹–æ‹½æ’åº - å¯å…³é—­</text>
			<view class="u-demo-block__content">
				<u-draggable 
					:list="multiColumnList" 
					:column="3"
					:closeable="true"
				>
					<template #item="{item, active}">
						<view class="grid-item square" :class="{active}">
							<text class="grid-text" :class="{'text-active': active}">{{item.text}}</text>
						</view>
					</template>
				</u-draggable>
			</view>
		</view>


		<view class="u-demo-block">
			<text class="u-demo-block__title">é•¿æŒ‰æ‹–æ‹½</text>
			<view class="u-demo-block__content">
				<u-draggable 
					:list="longpressList" 
					:column="2"
					longpress
				>
					<template #item="{oindex, item, active}">
						<view class="grid-item" :class="{active}">
							<text class="grid-text">{{item.text}}</text>
							<text class="grid-hint">é•¿æŒ‰æ‹–æ‹½</text>
						</view>
					</template>
				</u-draggable>
			</view>
		</view>
		
		<view class="u-demo-block">
			<text class="u-demo-block__title">å‚ç›´æ’åº - æ‰‹æŸ„æ‹–æ‹½</text>
			<view class="u-demo-block__content">
				<u-draggable 
					:list="verticalList" 
					:handle="true"
					:column="1"
				>
					<template #item="{oindex, item, active}">
						<view class="vertical-item" :class="{active}">
							<view class="vertical-icon">
								<text class="icon-text">{{item.icon}}</text>
							</view>
							<view class="vertical-content">
								<text class="vertical-title">{{item.title}}</text>
								<text class="vertical-desc">{{item.desc}}</text>
							</view>
							<view class="vertical-handle">
								<text class="handle-text" :data-handle="true">â‹®â‹®</text>
							</view>
						</view>
					</template>
				</u-draggable>
			</view>
		</view>
	</view>
</template>

<script>
export default {
	data() {
		return {
			dragList: [
				{ id: 1, text: "å¾®ä¿¡" },
				{ id: 2, text: "æ”¯ä»˜å®", disabled: true },
				{ id: 3, text: "å»ºè®¾é“¶è¡Œ" },
				{ id: 4, text: "å·¥å•†é“¶è¡Œ" },
				{ id: 5, text: "å†œä¸šé“¶è¡Œ" },
				{ id: 6, text: "ä¸­å›½é“¶è¡Œ", disabled: true  },
				{ id: 7, text: "æ‹›å•†é“¶è¡Œ" },
				{ id: 8, text: "äº¤é€šé“¶è¡Œ" }
			],
			multiColumnList: [
				{ id: 1, text: "A" },
				{ id: 2, text: "B" },
				{ id: 3, text: "C" },
				{ id: 4, text: "D" },
				{ id: 5, text: "E" },
				{ id: 6, text: "F" }
			],
			longpressList: [
				{ id: 1, text: "åŒ—äº¬" },
				{ id: 2, text: "ä¸Šæµ·" },
				{ id: 3, text: "å¹¿å·" },
				{ id: 4, text: "æ·±åœ³" }
			],
			verticalList: [
			{ id: 1, icon: "ğŸ“±", title: "æ‰‹æœºè®¾ç½®", desc: "ç®¡ç†æ‰‹æœºåŸºæœ¬è®¾ç½®" },
			{ id: 2, icon: "ğŸ””", title: "é€šçŸ¥ä¸­å¿ƒ", desc: "æŸ¥çœ‹å’Œç®¡ç†é€šçŸ¥" },
			{ id: 3, icon: "ğŸ”’", title: "éšç§å®‰å…¨", desc: "éšç§å’Œå®‰å…¨è®¾ç½®" },
			{ id: 4, icon: "ğŸ’¾", title: "å­˜å‚¨ç©ºé—´", desc: "ç®¡ç†è®¾å¤‡å­˜å‚¨" },
			{ id: 5, icon: "ğŸ”‹", title: "ç”µæ± ç®¡ç†", desc: "ç”µæ± ä½¿ç”¨æƒ…å†µ" },
			{ id: 6, icon: "ğŸ“¶", title: "ç½‘ç»œè®¾ç½®", desc: "WiFiå’Œç§»åŠ¨ç½‘ç»œ" },
			{ id: 7, icon: "ğŸ”§", title: "ç³»ç»Ÿè®¾ç½®", desc: "ç³»ç»Ÿå’Œè®¾å¤‡è®¾ç½®" },
			{ id: 8, icon: "ğŸ“±", title: "æ˜¾ç¤ºè®¾ç½®", desc: "å±å¹•å’Œæ˜¾ç¤ºè®¾ç½®" },
			{ id: 9, icon: "ğŸ”Š", title: "éŸ³é‡è®¾ç½®", desc: "ç®¡ç†éŸ³é‡å’ŒéŸ³æ•ˆ" },
			{ id: 10, icon: "ğŸ”", title: "æœç´¢è®¾ç½®", desc: "æœç´¢åŠŸèƒ½è®¾ç½®" },
			{ id: 11, icon: "ğŸ•’", title: "æ—¥æœŸæ—¶é—´è®¾ç½®", desc: "ç®¡ç†æ—¥æœŸå’Œæ—¶é—´" },
			{ id: 12, icon: "ğŸ”’", title: "éšç§å®‰å…¨", desc: "éšç§å’Œå®‰å…¨è®¾ç½®" },
			{ id: 13, icon: "ğŸ¨", title: "ä¸»é¢˜è®¾ç½®", desc: "è®¾ç½®åº”ç”¨ä¸»é¢˜" },
			{ id: 14, icon: "ğŸ‘¤", title: "è´¦æˆ·è®¾ç½®", desc: "ç®¡ç†ç”¨æˆ·è´¦æˆ·" },
			{ id: 15, icon: "ğŸ”Š", title: "å£°éŸ³è®¾ç½®", desc: "ç®¡ç†ç³»ç»Ÿå£°éŸ³" },
			{ id: 16, icon: "ğŸ“…", title: "æ—¥å†è®¾ç½®", desc: "ç®¡ç†æ—¥å†äº‹ä»¶" },
			{ id: 17, icon: "ğŸ“", title: "å¤‡å¿˜å½•è®¾ç½®", desc: "ç®¡ç†å¤‡å¿˜å½•" },
			{ id: 18, icon: "ğŸ“·", title: "ç›¸æœºè®¾ç½®", desc: "ç®¡ç†ç›¸æœºåŠŸèƒ½" },
			{ id: 19, icon: "ğŸµ", title: "éŸ³ä¹è®¾ç½®", desc: "ç®¡ç†éŸ³ä¹æ’­æ”¾" },
			{ id: 20, icon: "ğŸ®", title: "æ¸¸æˆè®¾ç½®", desc: "ç®¡ç†æ¸¸æˆåŠŸèƒ½" },
			{ id: 21, icon: "ğŸ“§", title: "é‚®ä»¶è®¾ç½®", desc: "ç®¡ç†é‚®ä»¶è´¦æˆ·" },
			{ id: 22, icon: "ğŸ“±", title: "è“ç‰™è®¾ç½®", desc: "ç®¡ç†è“ç‰™è¿æ¥" },
			{ id: 23, icon: "ğŸ–¨ï¸", title: "æ‰“å°è®¾ç½®", desc: "ç®¡ç†æ‰“å°åŠŸèƒ½" },
			{ id: 24, icon: "ğŸ”", title: "å¯†ç è®¾ç½®", desc: "ç®¡ç†å¯†ç " },
			{ id: 25, icon: "ğŸ“±", title: "å…³äºæ‰‹æœº", desc: "æŸ¥çœ‹æ‰‹æœºä¿¡æ¯" },
		],
			itemCounter: 9,
			deleteList: [
				{ id: 1, text: "é¡¹ç›®1" },
				{ id: 2, text: "é¡¹ç›®2" },
				{ id: 3, text: "é¡¹ç›®3" },
				{ id: 4, text: "é¡¹ç›®4" },
				{ id: 5, text: "é¡¹ç›®5" }
			],
			deletePosition: 'top-right',
		}
	},

	methods: {
		onListUpdate(newList) {
			console.log('åŸºç¡€åˆ—è¡¨æ›´æ–°:', newList)
			this.dragList = newList
		},
		onListChange(changeInfo) {
			console.log('åŸºç¡€æ‹–æ‹½å˜åŒ–:', changeInfo)
			uni.showToast({
				title: `ä»ç¬¬${changeInfo[0].oldindex + 1}ä½ç§»åŠ¨åˆ°ç¬¬${changeInfo[0].index + 1}ä½`,
				icon: 'none',
				duration: 1500
			})
		},
		onMultiColumnUpdate(newList) {
			console.log('å¤šåˆ—åˆ—è¡¨æ›´æ–°:', newList)
			this.multiColumnList = newList
		},
		onMultiColumnChange(changeInfo) {
			console.log('å¤šåˆ—æ‹–æ‹½å˜åŒ–:', changeInfo)
		},
		onVerticalUpdate(newList) {
			console.log('å‚ç›´åˆ—è¡¨æ›´æ–°:', newList)
			this.verticalList = newList
		},
		onVerticalChange(changeInfo) {
			console.log('å‚ç›´æ‹–æ‹½å˜åŒ–:', changeInfo)
		},
		onLongpressUpdate(newList) {
			console.log('é•¿æŒ‰åˆ—è¡¨æ›´æ–°:', newList)
			this.longpressList = newList
		},
		onLongpressChange(changeInfo) {
			console.log('é•¿æŒ‰æ‹–æ‹½å˜åŒ–:', changeInfo)
		}
		
	}
}
</script>

<style lang="scss" scoped>
.u-page {
	padding: 20rpx;
	background-color: #f5f5f5;
}

.grid-item {
	height: 48px;
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	background-color: white;
	font-weight: bold;
	color: #333;
	border-radius: 8rpx;
	margin:10rpx;
}


.grid-hint {
	font-size: 20rpx;
	color: #999;
	margin-top: 8rpx;
	font-weight: normal;
}

.result-text {
	flex: 1;
	font-size: 28rpx;
	color: #333;
}

.vertical-item {
	height: 55px;
	display: flex;
	flex-direction: row;
	align-items: center;
	background-color: white;
	border: 1rpx solid #eee;
	border-radius: 12rpx;
	padding:0 20rpx;
	transition: all 300ms ease;
	position: relative;
}

.vertical-icon {
	width: 80rpx;
	height: 80rpx;
	background: #f0f0f0;
	border-radius: 50%;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 20rpx;
	
	.icon-text {
		font-size: 40rpx;
	}
}

.vertical-content {
	flex: 1;
	display: flex;
	flex-direction: column;
	justify-content: center;
}

.vertical-title {
	font-size: 32rpx;
	font-weight: bold;
	color: #333;
	margin-bottom: 8rpx;
}

.vertical-desc {
	font-size: 24rpx;
	color: #666;
}

.vertical-handle {
	width: 60rpx;
	height: 60rpx;
	display: flex;
	align-items: center;
	justify-content: center;
	
	.handle-text {
		font-size: 32rpx;
		color: #999;
		font-weight: bold;
		transform: rotate(90deg);
	}
}

</style>